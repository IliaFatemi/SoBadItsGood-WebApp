<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
  <!-- Container wrapper -->
  <div class="container-fluid">
    <button
      class="navbar-toggler"
      type="button"
      data-mdb-toggle="collapse"
      data-mdb-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <i class="fas fa-bars"></i>
    </button>

    <!-- Collapsible wrapper -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <!-- Navbar brand -->
      <a class="navbar-brand mt-2 mt-lg-0" routerLink="">
        <img src="/assets/weblogo.png" height="50" alt="Logo"/>
      </a>
      <!-- Left links -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <!-- <li class="nav-item">
          <a class="nav-link" href="/userprofile" routerLink="/userprofile">Dashboard</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Movies</a>
        </li> -->
        <div *ngIf="session; then displayNoLogin; else displayLogin"></div>
        <ng-template #displayNoLogin></ng-template>
        <ng-template #displayLogin>
          <li class="nav-item">
            <a class="nav-link" href="/login" routerLink="/login">Login</a>
          </li>
        </ng-template>
      </ul>
      
      <!-- Left links -->
    </div>
    <!-- Collapsible wrapper -->
    <!-- Right elements -->
    <div class="d-flex align-items-center">
      <form class="example-form">
        <form class="d-flex input-group w-auto">
        <span matPrefix> </span>
        <input type="tel" class="form-control rounded" placeholder="Search" name= "search" [(ngModel)]= "search">
        <span class="input-group-text border-0" id="search-addon">
          <button type="submit" (click)="Search()"><i class="fas fa-search"></i></button>
        </span>
        </form>
        </form>
    </div>
    <div *ngIf="session; then showUser; else blockUserData"></div>
    <ng-template #showUser>
      <div class="d-flex align-items-center">
        
        <!-- Notifications -->
        <div class="dropdown">
          <a class="text-reset me-4 dropdown-toggle hidden-arrow" href="#" id="navbarDropdownMenuLink" role="button" data-mdb-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-bell notifications"></i>
            <span class="badge rounded-pill badge-notification bg-danger">10</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
            <li>
              <a class="dropdown-item" href="#">Some news</a>
            </li>
            <li>
              <a class="dropdown-item" href="#">Another news</a>
            </li>
            <li>
              <a class="dropdown-item" href="#">Something else here</a>
            </li>
          </ul>
        </div>
        
        <!-- Avatar -->
        <div class="dropdown">
          <a class="dropdown-toggle d-flex align-items-center hidden-arrow" href="#" id="navbarDropdownMenuAvatar" role="button" data-mdb-toggle="dropdown" aria-expanded="false">
            <img src="https://mdbcdn.b-cdn.net/img/new/avatars/2.webp" class="rounded-circle" height="45" alt="Profile picture"/>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuAvatar">
            <li>
              <a class="dropdown-item" href="/userprofile/{{currentUser}}">Profile</a>
            </li>
            <li>
              <a class="dropdown-item" href="#">My Reviews</a>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li>
              <a class="dropdown-item" routerLink="/settings">Settings</a>
            </li>
            <!-- <li>
              <a class="dropdown-item" href="#">Edit Profile</a>
            </li> -->
            <li>
              <button class="dropdown-item" (click)="Logout()">Logout</button>
            </li>
          </ul>
        </div>
      </div>
    </ng-template>    
    <!-- Right elements -->
    <ng-template #blockUserData></ng-template>

  </div>
  <!-- Container wrapper -->
</nav>
<!-- Navbar -->
<router-outlet></router-outlet>